\hypertarget{timer_8h}{}\section{src/include/interrupts/timer.h File Reference}
\label{timer_8h}\index{src/include/interrupts/timer.\+h@{src/include/interrupts/timer.\+h}}
{\ttfamily \#include $<$system.\+h$>$}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{timer_8h_a52c33084576afc93fb93057a924ea224}{init\+\_\+clock} (uint32\+\_\+t frequency)
\item 
void \hyperlink{timer_8h_aa7a05b8b41f51635ca6778b9dbe5e8f3}{tick\+Handler} (regs\+\_\+t $\ast$r)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{timer_8h_a52c33084576afc93fb93057a924ea224}\label{timer_8h_a52c33084576afc93fb93057a924ea224}} 
\index{timer.\+h@{timer.\+h}!init\+\_\+clock@{init\+\_\+clock}}
\index{init\+\_\+clock@{init\+\_\+clock}!timer.\+h@{timer.\+h}}
\subsubsection{\texorpdfstring{init\+\_\+clock()}{init\_clock()}}
{\footnotesize\ttfamily void init\+\_\+clock (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{frequency }\end{DoxyParamCaption})}

The Programmable Interval Timer is a chip connected to I\+R\+Q0. It can interrupt the C\+PU at a user-\/defined rate (between 18.\+2\+Hz and 1.\+1931 M\+Hz). The P\+IT is the primary method used for implementing a system clock and the only method available for implementing multitasking (switch processes on interrupt).

The P\+IT has an internal clock which oscillates at approximately 1.\+1931\+M\+Hz. This clock signal is fed through a frequency divider, to modulate the final output frequency. It has 3 channels, each with it\textquotesingle{}s own frequency divider\+:
\begin{DoxyItemize}
\item Channel 0 is the most useful. Its output is connected to I\+R\+Q0.
\item Channel 1 is very un-\/useful and on modern hardware is no longer implemented. It used to control refresh rates for D\+R\+AM.
\item Channel 2 controls the PC speaker. 
\end{DoxyItemize}\mbox{\Hypertarget{timer_8h_aa7a05b8b41f51635ca6778b9dbe5e8f3}\label{timer_8h_aa7a05b8b41f51635ca6778b9dbe5e8f3}} 
\index{timer.\+h@{timer.\+h}!tick\+Handler@{tick\+Handler}}
\index{tick\+Handler@{tick\+Handler}!timer.\+h@{timer.\+h}}
\subsubsection{\texorpdfstring{tick\+Handler()}{tickHandler()}}
{\footnotesize\ttfamily void tick\+Handler (\begin{DoxyParamCaption}\item[{regs\+\_\+t $\ast$}]{r }\end{DoxyParamCaption})}

